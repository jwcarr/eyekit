<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.9.1" />
<title>eyekit.fixation API documentation</title>
<meta name="description" content="Defines the `Fixation` and `FixationSequence` objects, which are used to
represent fixation data." />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}#lunr-search{width:100%;font-size:1em;padding:6px 9px 5px 9px;border:1px solid silver}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%;border:1px solid #ccc}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:0.8em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS_CHTML" integrity="sha256-kZafAc6mZvK3W3v1pHOcUix30OHQN6pU/NO2oFkqZVw=" crossorigin></script>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
<meta name="twitter:image:src" content="https://repository-images.githubusercontent.com/227875615/00ca2d80-f76c-11ea-807f-d81cd315b9df"/>
<meta name="twitter:site" content="@github"/>
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:title" content="eyekit"/>
<meta name="twitter:description" content="A lightweight Python package for doing open, transparent, reproducible science on reading behavior"/>
<meta property="og:image" content="https://repository-images.githubusercontent.com/227875615/00ca2d80-f76c-11ea-807f-d81cd315b9df"/>
<meta property="og:site_name" content="GitHub"/>
<meta property="og:type" content="object"/>
<meta property="og:title" content="eyekit"/>
<meta property="og:url" content="https://github.com/jwcarr/eyekit"/>
<meta property="og:description" content="A lightweight Python package for doing open, transparent, reproducible science on reading behavior"/>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>eyekit.fixation</code></h1>
</header>
<section id="section-intro">
<p>Defines the <code><a title="eyekit.fixation.Fixation" href="#eyekit.fixation.Fixation">Fixation</a></code> and <code><a title="eyekit.fixation.FixationSequence" href="#eyekit.fixation.FixationSequence">FixationSequence</a></code> objects, which are used to
represent fixation data.</p>
<div class="git-link-div"><a href="https://github.com/jwcarr/eyekit/blob/master/eyekit/fixation.py#L0-L578" class="git-link">View code on GitHub</a></div>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="eyekit.fixation.Fixation"><code class="flex name class">
<span>class <span class="ident">Fixation</span></span>
<span>(</span><span>index:Â int, x:Â int, y:Â int, start:Â int, end:Â int, pupil_size:Â intÂ =Â None, *, discarded:Â boolÂ =Â False, tags:Â dictÂ =Â None)</span>
</code></dt>
<dd>
<div class="desc"><p>Representation of a single fixation event. It is not usually necessary to
create <code><a title="eyekit.fixation.Fixation" href="#eyekit.fixation.Fixation">Fixation</a></code> objects manually; they are created automatically during
the instantiation of a <code><a title="eyekit.fixation.FixationSequence" href="#eyekit.fixation.FixationSequence">FixationSequence</a></code>.</p></div>
<div class="git-link-div"><a href="https://github.com/jwcarr/eyekit/blob/master/eyekit/fixation.py#L11-L220" class="git-link">View code on GitHub</a></div>
<h3>Instance variables</h3>
<dl>
<dt id="eyekit.fixation.Fixation.index"><code class="name">var <span class="ident">index</span> :Â int</code></dt>
<dd>
<div class="desc"><p>Index of the fixation in its parent <code><a title="eyekit.fixation.FixationSequence" href="#eyekit.fixation.FixationSequence">FixationSequence</a></code></p></div>
<div class="git-link-div"><a href="https://github.com/jwcarr/eyekit/blob/master/eyekit/fixation.py#L81-L84" class="git-link">View code on GitHub</a></div>
</dd>
<dt id="eyekit.fixation.Fixation.x"><code class="name">var <span class="ident">x</span> :Â int</code></dt>
<dd>
<div class="desc"><p>X-coordinate of the fixation.</p></div>
<div class="git-link-div"><a href="https://github.com/jwcarr/eyekit/blob/master/eyekit/fixation.py#L86-L89" class="git-link">View code on GitHub</a></div>
</dd>
<dt id="eyekit.fixation.Fixation.y"><code class="name">var <span class="ident">y</span> :Â int</code></dt>
<dd>
<div class="desc"><p>Y-coordinate of the fixation.</p></div>
<div class="git-link-div"><a href="https://github.com/jwcarr/eyekit/blob/master/eyekit/fixation.py#L95-L98" class="git-link">View code on GitHub</a></div>
</dd>
<dt id="eyekit.fixation.Fixation.xy"><code class="name">var <span class="ident">xy</span> :Â tuple</code></dt>
<dd>
<div class="desc"><p>XY-coordinates of the fixation.</p></div>
<div class="git-link-div"><a href="https://github.com/jwcarr/eyekit/blob/master/eyekit/fixation.py#L104-L107" class="git-link">View code on GitHub</a></div>
</dd>
<dt id="eyekit.fixation.Fixation.start"><code class="name">var <span class="ident">start</span> :Â int</code></dt>
<dd>
<div class="desc"><p>Start time of the fixation in milliseconds.</p></div>
<div class="git-link-div"><a href="https://github.com/jwcarr/eyekit/blob/master/eyekit/fixation.py#L109-L112" class="git-link">View code on GitHub</a></div>
</dd>
<dt id="eyekit.fixation.Fixation.end"><code class="name">var <span class="ident">end</span> :Â int</code></dt>
<dd>
<div class="desc"><p>End time of the fixation in milliseconds.</p></div>
<div class="git-link-div"><a href="https://github.com/jwcarr/eyekit/blob/master/eyekit/fixation.py#L120-L123" class="git-link">View code on GitHub</a></div>
</dd>
<dt id="eyekit.fixation.Fixation.duration"><code class="name">var <span class="ident">duration</span> :Â int</code></dt>
<dd>
<div class="desc"><p>Duration of the fixation in milliseconds.</p></div>
<div class="git-link-div"><a href="https://github.com/jwcarr/eyekit/blob/master/eyekit/fixation.py#L131-L134" class="git-link">View code on GitHub</a></div>
</dd>
<dt id="eyekit.fixation.Fixation.pupil_size"><code class="name">var <span class="ident">pupil_size</span> :Â int</code></dt>
<dd>
<div class="desc"><p>Size of the pupil. <code>None</code> if no pupil size is recorded.</p></div>
<div class="git-link-div"><a href="https://github.com/jwcarr/eyekit/blob/master/eyekit/fixation.py#L136-L139" class="git-link">View code on GitHub</a></div>
</dd>
<dt id="eyekit.fixation.Fixation.discarded"><code class="name">var <span class="ident">discarded</span> :Â bool</code></dt>
<dd>
<div class="desc"><p><code>True</code> if the fixation has been discarded, <code>False</code> otherwise.</p></div>
<div class="git-link-div"><a href="https://github.com/jwcarr/eyekit/blob/master/eyekit/fixation.py#L148-L151" class="git-link">View code on GitHub</a></div>
</dd>
<dt id="eyekit.fixation.Fixation.tags"><code class="name">var <span class="ident">tags</span> :Â dict</code></dt>
<dd>
<div class="desc"><p>Tags applied to this fixation.</p></div>
<div class="git-link-div"><a href="https://github.com/jwcarr/eyekit/blob/master/eyekit/fixation.py#L157-L160" class="git-link">View code on GitHub</a></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="eyekit.fixation.Fixation.discard"><code class="name flex">
<span>def <span class="ident">discard</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Mark this fixation as discarded. To completely remove the fixation,
you should also call <code><a title="eyekit.fixation.FixationSequence.purge" href="#eyekit.fixation.FixationSequence.purge">FixationSequence.purge()</a></code>.</p></div>
<div class="git-link-div"><a href="https://github.com/jwcarr/eyekit/blob/master/eyekit/fixation.py#L162-L167" class="git-link">View code on GitHub</a></div>
</dd>
<dt id="eyekit.fixation.Fixation.add_tag"><code class="name flex">
<span>def <span class="ident">add_tag</span></span>(<span>self, tag:Â str, value=True)</span>
</code></dt>
<dd>
<div class="desc"><p>Tag this fixation with some arbitrary tag and (optionally) a value.</p></div>
<div class="git-link-div"><a href="https://github.com/jwcarr/eyekit/blob/master/eyekit/fixation.py#L169-L173" class="git-link">View code on GitHub</a></div>
</dd>
<dt id="eyekit.fixation.Fixation.has_tag"><code class="name flex">
<span>def <span class="ident">has_tag</span></span>(<span>self, tag:Â str) â€‘>Â bool</span>
</code></dt>
<dd>
<div class="desc"><p>Returns <code>True</code> if the fixation has a given tag.</p></div>
<div class="git-link-div"><a href="https://github.com/jwcarr/eyekit/blob/master/eyekit/fixation.py#L175-L179" class="git-link">View code on GitHub</a></div>
</dd>
<dt id="eyekit.fixation.Fixation.shift_x"><code class="name flex">
<span>def <span class="ident">shift_x</span></span>(<span>self, amount:Â int)</span>
</code></dt>
<dd>
<div class="desc"><p>Shift the fixation's x-coordinate to the right (+) or left (-) by some
amount (in pixels).</p></div>
<div class="git-link-div"><a href="https://github.com/jwcarr/eyekit/blob/master/eyekit/fixation.py#L181-L186" class="git-link">View code on GitHub</a></div>
</dd>
<dt id="eyekit.fixation.Fixation.shift_y"><code class="name flex">
<span>def <span class="ident">shift_y</span></span>(<span>self, amount:Â int)</span>
</code></dt>
<dd>
<div class="desc"><p>Shift the fixation's y-coordinate down (+) or up (-) by some amount
(in pixels).</p></div>
<div class="git-link-div"><a href="https://github.com/jwcarr/eyekit/blob/master/eyekit/fixation.py#L188-L193" class="git-link">View code on GitHub</a></div>
</dd>
<dt id="eyekit.fixation.Fixation.shift_time"><code class="name flex">
<span>def <span class="ident">shift_time</span></span>(<span>self, amount:Â int)</span>
</code></dt>
<dd>
<div class="desc"><p>Shift this fixation forwards (+) or backwards (-) in time by some
amount (in milliseconds).</p></div>
<div class="git-link-div"><a href="https://github.com/jwcarr/eyekit/blob/master/eyekit/fixation.py#L195-L201" class="git-link">View code on GitHub</a></div>
</dd>
<dt id="eyekit.fixation.Fixation.serialize"><code class="name flex">
<span>def <span class="ident">serialize</span></span>(<span>self) â€‘>Â dict</span>
</code></dt>
<dd>
<div class="desc"><p>Returns representation of the fixation as a dictionary for
serialization.</p></div>
<div class="git-link-div"><a href="https://github.com/jwcarr/eyekit/blob/master/eyekit/fixation.py#L203-L220" class="git-link">View code on GitHub</a></div>
</dd>
</dl>
</dd>
<dt id="eyekit.fixation.FixationSequence"><code class="flex name class">
<span>class <span class="ident">FixationSequence</span></span>
<span>(</span><span>sequence:Â list)</span>
</code></dt>
<dd>
<div class="desc"><p>Representation of a sequence of consecutive fixations, typically from a
single trial.</p>
<p>Initialized with:</p>
<ul>
<li><code>sequence</code> List of tuples of ints, or something similar, that conforms
to the following structure: <code>[(106, 540, 100, 200), (190, 536, 200,
300), ..., (763, 529, 1000, 1100)]</code>, where each tuple contains the
X-coordinate, Y-coordinate, start time, and end time of a fixation.
Alternatively, <code>sequence</code> may be a list of dicts, where each dict is
something like <code>{'x': 106, 'y': 540, 'start': 100, 'end': 200}</code>.</li>
</ul></div>
<div class="git-link-div"><a href="https://github.com/jwcarr/eyekit/blob/master/eyekit/fixation.py#L223-L556" class="git-link">View code on GitHub</a></div>
<h3>Instance variables</h3>
<dl>
<dt id="eyekit.fixation.FixationSequence.start"><code class="name">var <span class="ident">start</span> :Â int</code></dt>
<dd>
<div class="desc"><p>Start time of the fixation sequence (in milliseconds).</p></div>
<div class="git-link-div"><a href="https://github.com/jwcarr/eyekit/blob/master/eyekit/fixation.py#L286-L293" class="git-link">View code on GitHub</a></div>
</dd>
<dt id="eyekit.fixation.FixationSequence.end"><code class="name">var <span class="ident">end</span> :Â int</code></dt>
<dd>
<div class="desc"><p>End time of the fixation sequence (in milliseconds).</p></div>
<div class="git-link-div"><a href="https://github.com/jwcarr/eyekit/blob/master/eyekit/fixation.py#L295-L302" class="git-link">View code on GitHub</a></div>
</dd>
<dt id="eyekit.fixation.FixationSequence.duration"><code class="name">var <span class="ident">duration</span> :Â int</code></dt>
<dd>
<div class="desc"><p>Duration of the fixation sequence, incuding any gaps between fixations
(in milliseconds).</p></div>
<div class="git-link-div"><a href="https://github.com/jwcarr/eyekit/blob/master/eyekit/fixation.py#L304-L312" class="git-link">View code on GitHub</a></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="eyekit.fixation.FixationSequence.copy"><code class="name flex">
<span>def <span class="ident">copy</span></span>(<span>self, include_discards=True)</span>
</code></dt>
<dd>
<div class="desc"><p>Returns a copy of the fixation sequence.</p></div>
<div class="git-link-div"><a href="https://github.com/jwcarr/eyekit/blob/master/eyekit/fixation.py#L314-L324" class="git-link">View code on GitHub</a></div>
</dd>
<dt id="eyekit.fixation.FixationSequence.purge"><code class="name flex">
<span>def <span class="ident">purge</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Permanently removes all discarded fixations from the sequence, and
reindexes the fixations.</p></div>
<div class="git-link-div"><a href="https://github.com/jwcarr/eyekit/blob/master/eyekit/fixation.py#L326-L335" class="git-link">View code on GitHub</a></div>
</dd>
<dt id="eyekit.fixation.FixationSequence.iter_with_discards"><code class="name flex">
<span>def <span class="ident">iter_with_discards</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Iterates over the fixation sequence including any discarded fixations.
This is also the default behavior when iterating over a
<code><a title="eyekit.fixation.FixationSequence" href="#eyekit.fixation.FixationSequence">FixationSequence</a></code> directly.</p></div>
<div class="git-link-div"><a href="https://github.com/jwcarr/eyekit/blob/master/eyekit/fixation.py#L337-L344" class="git-link">View code on GitHub</a></div>
</dd>
<dt id="eyekit.fixation.FixationSequence.iter_without_discards"><code class="name flex">
<span>def <span class="ident">iter_without_discards</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Iterates over the fixation sequence without any discarded fixations.</p></div>
<div class="git-link-div"><a href="https://github.com/jwcarr/eyekit/blob/master/eyekit/fixation.py#L346-L352" class="git-link">View code on GitHub</a></div>
</dd>
<dt id="eyekit.fixation.FixationSequence.iter_pairs"><code class="name flex">
<span>def <span class="ident">iter_pairs</span></span>(<span>self, include_discards=True)</span>
</code></dt>
<dd>
<div class="desc"><p>Iterate over fixations in consecutive pairs. This is useful if you
want to compare consecutive fixations in some way. For example, if you
wanted to detect when a fixation leaves an interest area, you might do
something like this:</p>
<pre><code>for curr_fxn, next_fxn in seq.iter_pairs():
    if curr_fxn in interest_area and next_fxn not in interest_area:
        print('A fixation has left the interest area')
</code></pre></div>
<div class="git-link-div"><a href="https://github.com/jwcarr/eyekit/blob/master/eyekit/fixation.py#L354-L375" class="git-link">View code on GitHub</a></div>
</dd>
<dt id="eyekit.fixation.FixationSequence.shift_x"><code class="name flex">
<span>def <span class="ident">shift_x</span></span>(<span>self, amount:Â int)</span>
</code></dt>
<dd>
<div class="desc"><p>Shift all fixations' x-coordinates to the right (+) or left (-) by
some amount (in pixels).</p></div>
<div class="git-link-div"><a href="https://github.com/jwcarr/eyekit/blob/master/eyekit/fixation.py#L377-L383" class="git-link">View code on GitHub</a></div>
</dd>
<dt id="eyekit.fixation.FixationSequence.shift_y"><code class="name flex">
<span>def <span class="ident">shift_y</span></span>(<span>self, amount:Â int)</span>
</code></dt>
<dd>
<div class="desc"><p>Shift all fixations' y-coordinates down (+) or up (-) by some amount
(in pixels).</p></div>
<div class="git-link-div"><a href="https://github.com/jwcarr/eyekit/blob/master/eyekit/fixation.py#L385-L391" class="git-link">View code on GitHub</a></div>
</dd>
<dt id="eyekit.fixation.FixationSequence.shift_time"><code class="name flex">
<span>def <span class="ident">shift_time</span></span>(<span>self, amount:Â int)</span>
</code></dt>
<dd>
<div class="desc"><p>Shift all fixations forwards (+) or backwards (-) in time by some
amount (in milliseconds).</p></div>
<div class="git-link-div"><a href="https://github.com/jwcarr/eyekit/blob/master/eyekit/fixation.py#L393-L399" class="git-link">View code on GitHub</a></div>
</dd>
<dt id="eyekit.fixation.FixationSequence.shift_start_time_to_zero"><code class="name flex">
<span>def <span class="ident">shift_start_time_to_zero</span></span>(<span>self) â€‘>Â int</span>
</code></dt>
<dd>
<div class="desc"><p>Shift all fixations backwards in time, such that the first fixation in
the sequence starts at time 0. Returns the amount (in milliseconds)
by which the entire sequence was shifted.</p></div>
<div class="git-link-div"><a href="https://github.com/jwcarr/eyekit/blob/master/eyekit/fixation.py#L401-L409" class="git-link">View code on GitHub</a></div>
</dd>
<dt id="eyekit.fixation.FixationSequence.segment"><code class="name flex">
<span>def <span class="ident">segment</span></span>(<span>self, time_intervals:Â list) â€‘>Â list</span>
</code></dt>
<dd>
<div class="desc"><p>Given a list of time intervals, segment the fixation sequence into
subsequences. This may be useful if you want to split the sequence
based on, for example, page turns or subtitle timings. Returns a list
of <em>n</em> <code><a title="eyekit.fixation.FixationSequence" href="#eyekit.fixation.FixationSequence">FixationSequence</a></code>s, where <em>n</em> = <code>len(time_intervals)</code>. The
time intervals should be specified as a list of tuples or something
similarly interpretable: <code>[(500, 1000), (1500, 2000), (2500, 5000)]</code>.</p></div>
<div class="git-link-div"><a href="https://github.com/jwcarr/eyekit/blob/master/eyekit/fixation.py#L411-L431" class="git-link">View code on GitHub</a></div>
</dd>
<dt id="eyekit.fixation.FixationSequence.discard_short_fixations"><code class="name flex">
<span>def <span class="ident">discard_short_fixations</span></span>(<span>self, threshold:Â intÂ =Â 50)</span>
</code></dt>
<dd>
<div class="desc"><p>Discard all fixations that are shorter than some threshold value
(defualt: 50ms). Note that this only flags fixations as discarded and
doesn't actually remove them; to remove discarded fixations, call
<code><a title="eyekit.fixation.FixationSequence.purge" href="#eyekit.fixation.FixationSequence.purge">FixationSequence.purge()</a></code> after discarding.</p></div>
<div class="git-link-div"><a href="https://github.com/jwcarr/eyekit/blob/master/eyekit/fixation.py#L433-L442" class="git-link">View code on GitHub</a></div>
</dd>
<dt id="eyekit.fixation.FixationSequence.discard_long_fixations"><code class="name flex">
<span>def <span class="ident">discard_long_fixations</span></span>(<span>self, threshold:Â intÂ =Â 500)</span>
</code></dt>
<dd>
<div class="desc"><p>Discard all fixations that are longer than some threshold value
(defualt: 500ms). Note that this only flags fixations as discarded
and doesn't actually remove them; to remove discarded fixations, call
<code><a title="eyekit.fixation.FixationSequence.purge" href="#eyekit.fixation.FixationSequence.purge">FixationSequence.purge()</a></code> after discarding.</p></div>
<div class="git-link-div"><a href="https://github.com/jwcarr/eyekit/blob/master/eyekit/fixation.py#L444-L453" class="git-link">View code on GitHub</a></div>
</dd>
<dt id="eyekit.fixation.FixationSequence.discard_out_of_bounds_fixations"><code class="name flex">
<span>def <span class="ident">discard_out_of_bounds_fixations</span></span>(<span>self, text_block, threshold:Â intÂ =Â 100)</span>
</code></dt>
<dd>
<div class="desc"><p>Given a <code><a title="eyekit.text.TextBlock" href="text.html#eyekit.text.TextBlock">TextBlock</a></code>, discard all fixations that do not
fall within some threshold distance of any character in the text.
Note that this only flags fixations as discarded and doesn't actually
remove them; to remove discarded fixations, call
<code><a title="eyekit.fixation.FixationSequence.purge" href="#eyekit.fixation.FixationSequence.purge">FixationSequence.purge()</a></code> after discarding.</p></div>
<div class="git-link-div"><a href="https://github.com/jwcarr/eyekit/blob/master/eyekit/fixation.py#L455-L473" class="git-link">View code on GitHub</a></div>
</dd>
<dt id="eyekit.fixation.FixationSequence.snap_to_lines"><code class="name flex">
<span>def <span class="ident">snap_to_lines</span></span>(<span>self, text_block, method='warp', **kwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>Given a <code><a title="eyekit.text.TextBlock" href="text.html#eyekit.text.TextBlock">TextBlock</a></code>, snap each fixation to the line that
it most likely belongs to, eliminating any y-axis variation. Several
methods are available (see below), some of which take optional
parameters or require NumPy/SciPy to be installed. See <a href="https://doi.org/10.3758/s13428-021-01554-0">Carr et al.
(2021)</a> for a full
description and evaluation of these methods. Note that in single-line
TextBlocks, the <code>method</code> parameter has no effect: all fixations will
be snapped to the one line. If a list of methods is passed in, each
fixation will be snapped to the line with the most "votes" across the
selection of methods (in case of ties, the left-most method takes
priority). This "wisdom of the crowd" approach usually results in
greater performance than any one algorithm individually; ideally, you
should choose a selection of methods that have different general
properties: for example, <code>['slice', 'cluster', 'warp']</code>. The
<code>snap_to_lines()</code> method returns two values, delta and kappa, which
are indicators of data quality. Delta is the average amount by which
a fixation is moved in the correction. If this value is high
(e.g. &gt; 30), this may indicate that the quality of the data or the
correction is low. Kappa, which is only calculated when multiple
methods are applied, is a measure of agreement among the methods. If
this value is low (e.g. &lt; 0.7), this may indicate that the correction
is unreliable.</p>
<ul>
<li>
<p><code>chain</code> : Chain consecutive fixations that are sufficiently close to each other, and
then assign chains to their closest text lines. Default params:
<code>x_thresh=192</code>, <code>y_thresh=32</code>. Requires NumPy. Original method
implemented in <a href="https://github.com/sascha2schroeder/popEye/">popEye</a>.</p>
</li>
<li>
<p><code>cluster</code> : Classify fixations into <em>m</em> clusters based on their Y-values, and then
assign clusters to text lines in positional order. Requires SciPy.
Original method implemented in <a href="https://github.com/sascha2schroeder/popEye/">popEye</a>.</p>
</li>
<li>
<p><code>merge</code> : Form a set of progressive sequences and then reduce the set to <em>m</em> by
repeatedly merging those that appear to be on the same line. Merged
sequences are then assigned to text lines in positional order. Default
params: <code>y_thresh=32</code>, <code>gradient_thresh=0.1</code>, <code>error_thresh=20</code>. Requires
NumPy. Original method by <a href="https://doi.org/10.3758/s13428-018-1120-x">Å pakov et al. (2019)</a>.</p>
</li>
<li>
<p><code>regress</code> : Find <em>m</em> regression lines that best fit the fixations and group fixations
according to best fit regression lines, and then assign groups to text
lines in positional order. Default params: <code>slope_bounds=(-0.1, 0.1)</code>,
<code>offset_bounds=(-50, 50)</code>, <code>std_bounds=(1, 20)</code>. Requires SciPy.
Original method by <a href="https://doi.org/10.3758/s13428-012-0280-3">Cohen (2013)</a>.</p>
</li>
<li>
<p><code>segment</code> : Segment fixation sequence into <em>m</em> subsequences based on <em>m</em>â€“1 most-likely
return sweeps, and then assign subsequences to text lines in chronological
order. Requires NumPy. Original method by
<a href="https://doi.org/10.1109/BTAS.2015.7358786">Abdulin &amp; Komogortsev (2015)</a>.</p>
</li>
<li>
<p><code>slice</code> : Form a set of runs and then reduce the set to <em>m</em> by repeatedly merging
those that appear to be on the same line. Merged sequences are then
assigned to text lines in positional order. Default params:
<code>x_thresh=192</code>, <code>y_thresh=32</code>, <code>w_thresh=32</code>, <code>n_thresh=90</code>. Requires
NumPy. Original method by <a href="https://doi.org/10.1016/j.procs.2021.09.069">Glandorf &amp; Schroeder (2021)</a>.</p>
</li>
<li>
<p><code>split</code> : Split fixation sequence into subsequences based on best candidate return
sweeps, and then assign subsequences to closest text lines. Requires
SciPy. Original method by <a href="https://doi.org/10.3758/s13428-021-01554-0">Carr et al. (2022)</a>.</p>
</li>
<li>
<p><code>stretch</code> : Find a stretch factor and offset that results in a good alignment between
the fixations and lines of text, and then assign the transformed fixations
to the closest text lines. Default params: <code>stretch_bounds=(0.9, 1.1)</code>,
<code>offset_bounds=(-50, 50)</code>. Requires SciPy.
Original method by <a href="http://www.monochromata.de/master_thesis/ma1.3.pdf">Lohmeier (2015)</a>.</p>
</li>
<li>
<p><code>warp</code> : Map fixations to word centers using <a href="https://en.wikipedia.org/wiki/Dynamic_time_warping">Dynamic Time
Warping</a>. This finds a
monotonically increasing mapping between fixations and words with the
shortest overall distance, effectively resulting in <em>m</em> subsequences.
Fixations are then assigned to the lines that their mapped words belong
to, effectively assigning subsequences to text lines in chronological
order. Requires NumPy.
Original method by <a href="https://doi.org/10.3758/s13428-021-01554-0">Carr et al. (2022)</a>.</p>
</li>
</ul></div>
<div class="git-link-div"><a href="https://github.com/jwcarr/eyekit/blob/master/eyekit/fixation.py#L475-L549" class="git-link">View code on GitHub</a></div>
</dd>
<dt id="eyekit.fixation.FixationSequence.serialize"><code class="name flex">
<span>def <span class="ident">serialize</span></span>(<span>self) â€‘>Â list</span>
</code></dt>
<dd>
<div class="desc"><p>Returns representation of the fixation sequence in simple list format
for serialization.</p></div>
<div class="git-link-div"><a href="https://github.com/jwcarr/eyekit/blob/master/eyekit/fixation.py#L551-L556" class="git-link">View code on GitHub</a></div>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<header>
<a class="homelink" rel="home" title="eyekit Home" href="index.html">
<img src="images/logo.png" alt="Eyekit logo" width='200' style='border:none'>
</a>
</header>
<br />
<form>
<input id="lunr-search" name="q" placeholder="ðŸ”Ž Search ..." aria-label="Search"
disabled minlength="2">
</form>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/tingle/0.15.3/tingle.min.css" integrity="sha512-j1u8eUJ4f23xPPxwOrLUPQaCD2dwzNqqmDDcWS4deWsMv2ohLqmXXuP3hU7g8TyzbMSakP/mMqoNBYWj8AEIFg==" crossorigin>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tingle/0.15.3/tingle.min.js" integrity="sha512-plGUER9JkeEWPPqQBE4sdLqBoQug5Ap+BCGMc7bJ8BXkm+VVj6QzkpBz5Yv2yPkkq+cqg9IpkBaGCas6uDbW8g==" crossorigin></script>
<style>
.modal-dialog iframe {
width: 100vw;
height: calc(100vh - 80px);
}
@media screen and (min-width: 700px) {
.modal-dialog iframe {
width: 70vw;
height: 80vh;
}
}
.modal-dialog .tingle-modal-box {width: auto;}
.modal-dialog .tingle-modal-box__content {padding: 0;}
</style>
<script>
const input = document.getElementById('lunr-search');
input.disabled = false;
input.form.addEventListener('submit', (ev) => {
ev.preventDefault();
const url = new URL(window.location);
url.searchParams.set('q', input.value);
history.replaceState({}, null, url.toString());
search(input.value);
});
const query = new URL(window.location).searchParams.get('q');
if (query)
search(query);
function search(query) {
const url = 'search.html#' + encodeURIComponent(query);
new tingle.modal({
cssClass: ['modal-dialog'],
onClose: () => {
const url = new URL(window.location);
url.searchParams.delete('q');
history.replaceState({}, null, url.toString());
setTimeout(() => input.focus(), 100);
}
}).setContent('<iframe src="' + url + '"></iframe>').open();
}
</script>
<br />
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Classes</h3>
<ul>
<li>
<h4><code><a title="eyekit.fixation.Fixation" href="#eyekit.fixation.Fixation">Fixation</a></code></h4>
<ul class="">
<li><code><a title="eyekit.fixation.Fixation.discard" href="#eyekit.fixation.Fixation.discard">discard</a></code></li>
<li><code><a title="eyekit.fixation.Fixation.add_tag" href="#eyekit.fixation.Fixation.add_tag">add_tag</a></code></li>
<li><code><a title="eyekit.fixation.Fixation.has_tag" href="#eyekit.fixation.Fixation.has_tag">has_tag</a></code></li>
<li><code><a title="eyekit.fixation.Fixation.shift_x" href="#eyekit.fixation.Fixation.shift_x">shift_x</a></code></li>
<li><code><a title="eyekit.fixation.Fixation.shift_y" href="#eyekit.fixation.Fixation.shift_y">shift_y</a></code></li>
<li><code><a title="eyekit.fixation.Fixation.shift_time" href="#eyekit.fixation.Fixation.shift_time">shift_time</a></code></li>
<li><code><a title="eyekit.fixation.Fixation.serialize" href="#eyekit.fixation.Fixation.serialize">serialize</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="eyekit.fixation.FixationSequence" href="#eyekit.fixation.FixationSequence">FixationSequence</a></code></h4>
<ul class="">
<li><code><a title="eyekit.fixation.FixationSequence.copy" href="#eyekit.fixation.FixationSequence.copy">copy</a></code></li>
<li><code><a title="eyekit.fixation.FixationSequence.purge" href="#eyekit.fixation.FixationSequence.purge">purge</a></code></li>
<li><code><a title="eyekit.fixation.FixationSequence.iter_with_discards" href="#eyekit.fixation.FixationSequence.iter_with_discards">iter_with_discards</a></code></li>
<li><code><a title="eyekit.fixation.FixationSequence.iter_without_discards" href="#eyekit.fixation.FixationSequence.iter_without_discards">iter_without_discards</a></code></li>
<li><code><a title="eyekit.fixation.FixationSequence.iter_pairs" href="#eyekit.fixation.FixationSequence.iter_pairs">iter_pairs</a></code></li>
<li><code><a title="eyekit.fixation.FixationSequence.shift_x" href="#eyekit.fixation.FixationSequence.shift_x">shift_x</a></code></li>
<li><code><a title="eyekit.fixation.FixationSequence.shift_y" href="#eyekit.fixation.FixationSequence.shift_y">shift_y</a></code></li>
<li><code><a title="eyekit.fixation.FixationSequence.shift_time" href="#eyekit.fixation.FixationSequence.shift_time">shift_time</a></code></li>
<li><code><a title="eyekit.fixation.FixationSequence.shift_start_time_to_zero" href="#eyekit.fixation.FixationSequence.shift_start_time_to_zero">shift_start_time_to_zero</a></code></li>
<li><code><a title="eyekit.fixation.FixationSequence.segment" href="#eyekit.fixation.FixationSequence.segment">segment</a></code></li>
<li><code><a title="eyekit.fixation.FixationSequence.discard_short_fixations" href="#eyekit.fixation.FixationSequence.discard_short_fixations">discard_short_fixations</a></code></li>
<li><code><a title="eyekit.fixation.FixationSequence.discard_long_fixations" href="#eyekit.fixation.FixationSequence.discard_long_fixations">discard_long_fixations</a></code></li>
<li><code><a title="eyekit.fixation.FixationSequence.discard_out_of_bounds_fixations" href="#eyekit.fixation.FixationSequence.discard_out_of_bounds_fixations">discard_out_of_bounds_fixations</a></code></li>
<li><code><a title="eyekit.fixation.FixationSequence.snap_to_lines" href="#eyekit.fixation.FixationSequence.snap_to_lines">snap_to_lines</a></code></li>
<li><code><a title="eyekit.fixation.FixationSequence.serialize" href="#eyekit.fixation.FixationSequence.serialize">serialize</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.9.1</a>.</p>
</footer>
</body>
</html>